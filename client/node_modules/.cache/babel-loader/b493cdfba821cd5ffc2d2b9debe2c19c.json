{"ast":null,"code":"import _defineProperty from \"/Users/globalintegrity/Desktop/globalcustomerbookings/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/globalintegrity/Desktop/globalcustomerbookings/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/globalintegrity/Desktop/globalcustomerbookings/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/globalintegrity/Desktop/globalcustomerbookings/client/src/pages/Issuereport.js\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport pic1 from \"./images/jorge.jpeg\";\nimport React, { useState, useEffect } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport API from \"../utils/API\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\nimport emailjs from \"emailjs-com\";\n\nfunction Issuereport() {\n  var _this = this;\n\n  // Setting our component's initial state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      reviews = _useState2[0],\n      setReviews = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formObject = _useState4[0],\n      setFormObject = _useState4[1]; // Load all books and store them with setBooks\n\n\n  useEffect(function () {\n    loadReviews();\n  }, []); // Loads all books and sets them to books\n\n  function loadReviews() {\n    API.getReviews().then(function (res) {\n      return setReviews(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  ; // Deletes a book from the database with a given id, then reloads books from the db\n\n  function deleteReview(id) {\n    API.deleteReview(id).then(function (res) {\n      return loadReviews();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  } // Handles updating component state when the user types into the input field\n\n\n  function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormObject(_objectSpread({}, formObject, _defineProperty({}, name, value)));\n  }\n\n  ; // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    if (formObject.name && formObject.service && formObject.review) {\n      API.saveReview({\n        name: formObject.name,\n        service: formObject.service,\n        review: formObject.review,\n        linkedin: formObject.linkedin\n      }).then(alert(\"FORM SUBMITTED, A SPECIALIST WILL REACH OUT TO YOU VIA EMAIL SOON!!! THANK YOU FOR BOOKING WITH GLOBAL INTEGRITY!!!\")).then(function (res) {\n        return loadReviews();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n\n    emailfunction();\n  }\n\n  ;\n\n  function emailfunction() {\n    var templateParams = {};\n    emailjs.send('default_service', 'reviewtemplate', templateParams, \"user_cik0Rx7PoC1jSZScZR0Em\").then(function (response) {\n      console.log('SUCCESS!', response.status, response.text);\n    }, function (error) {\n      console.log('FAILED...', error);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Leave a review about your experience with Global Integrity\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      marginLeft: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"name\",\n    placeholder: \"Your Name (Input Required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"service\",\n    placeholder: \"Which service(s) did you use? (Input Required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: handleInputChange,\n    name: \"review\",\n    placeholder: \"Your Review (Input Required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: handleInputChange,\n    name: \"linkedin\",\n    placeholder: \"LinkedIn profile address (Optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    disabled: !(formObject.name && formObject.service && formObject.review),\n    onClick: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Submit Your Review!\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 12\n    }\n  }, \"REVIEWS\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 12\n    }\n  }), reviews.length ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, reviews.map(function (review) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: review._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"media-left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      className: \"image is-96x96\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: pic1,\n      alt: \"a reviewer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: review.linkedin,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, review.linkedin)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, review.name), \" stated: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 42\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 52\n      }\n    }, review.review), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 74\n      }\n    }), \" in reference to the \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 104\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 114\n      }\n    }, review.service), \" service.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 146\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 155\n      }\n    }), \" On \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 168\n      }\n    }), review.date), /*#__PURE__*/React.createElement(DeleteBtn, {\n      onClick: function onClick() {\n        return deleteReview(review._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }));\n  })) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"No Results to Display\")))));\n}\n\nexport default Issuereport;","map":{"version":3,"sources":["/Users/globalintegrity/Desktop/globalcustomerbookings/client/src/pages/Issuereport.js"],"names":["Col","Row","Container","Jumbotron","pic1","React","useState","useEffect","DeleteBtn","API","List","ListItem","Input","TextArea","FormBtn","emailjs","Issuereport","reviews","setReviews","formObject","setFormObject","loadReviews","getReviews","then","res","data","catch","err","console","log","deleteReview","id","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","service","review","saveReview","linkedin","alert","emailfunction","templateParams","send","response","status","text","error","marginLeft","length","map","_id","date"],"mappings":"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","sourcesContent":["import { Col, Row, Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport pic1 from \"./images/jorge.jpeg\";\nimport React, { useState, useEffect } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport API from \"../utils/API\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\nimport emailjs from \"emailjs-com\";\n\nfunction Issuereport() {\n\n  // Setting our component's initial state\n  const [reviews, setReviews] = useState([])\n  const [formObject, setFormObject] = useState({})\n\n  // Load all books and store them with setBooks\n  useEffect(() => {\n    loadReviews()\n  }, [])\n\n  // Loads all books and sets them to books\n  function loadReviews() {\n    API.getReviews()\n      .then(res => \n        setReviews(res.data)\n      )\n      .catch(err => console.log(err));\n  };\n\n  // Deletes a book from the database with a given id, then reloads books from the db\n  function deleteReview(id) {\n    API.deleteReview(id)\n      .then(res => loadReviews())\n      .catch(err => console.log(err));\n  }\n\n  // Handles updating component state when the user types into the input field\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setFormObject({...formObject, [name]: value})\n  };\n\n  // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n  function handleFormSubmit(event) {\n    \n    event.preventDefault();\n    if (formObject.name && formObject.service && formObject.review) {\n      API.saveReview({\n        name: formObject.name,\n        service: formObject.service,\n        review: formObject.review,\n        linkedin: formObject.linkedin\n      })\n        .then(alert(\"FORM SUBMITTED, A SPECIALIST WILL REACH OUT TO YOU VIA EMAIL SOON!!! THANK YOU FOR BOOKING WITH GLOBAL INTEGRITY!!!\"))\n        .then(res => loadReviews())\n        .catch(err => console.log(err));\n    }\n    emailfunction();\n  };\n  function emailfunction() {\n\n  var templateParams = {\n      \n  }\n    \n    emailjs.send('default_service', 'reviewtemplate', templateParams, \"user_cik0Rx7PoC1jSZScZR0Em\")\n    .then(function(response) {\n       console.log('SUCCESS!', response.status, response.text);\n    }, function(error) {\n       console.log('FAILED...', error);\n    })\n  }\n  return (\n    <Container fluid>\n        <Row>\n          <Col size=\"lg-12\">\n            \n              \n            \n            <Jumbotron>\n              <h3>Leave a review about your experience with Global Integrity</h3>\n              <br></br>\n            <form style={{marginLeft:25}}>\n              <Input\n                onChange={handleInputChange}\n                name=\"name\"\n                placeholder=\"Your Name (Input Required)\"\n              />\n              <Input\n                onChange={handleInputChange}\n                name=\"service\"\n                placeholder=\"Which service(s) did you use? (Input Required)\"\n              />\n              <TextArea\n                onChange={handleInputChange}\n                name=\"review\"\n                placeholder=\"Your Review (Input Required)\"\n              />\n              <TextArea\n                onChange={handleInputChange}\n                name=\"linkedin\"\n                placeholder=\"LinkedIn profile address (Optional)\"\n              />\n              <br></br>\n              <FormBtn\n                disabled={!(formObject.name && formObject.service && formObject.review)}\n                onClick={handleFormSubmit}\n                \n              >\n                Submit Your Review!\n              </FormBtn>\n            </form>\n            </Jumbotron>\n            <br></br>\n          </Col>\n         \n        </Row>\n      <Row>\n        <Col size=\"lg-12\">\n          <div><div className=\"card\"></div>\n        <div className=\"card-image\"></div>\n        <br></br>\n           <strong>REVIEWS</strong>\n           <hr></hr>\n           {reviews.length ? (\n              <List>\n                {reviews.map(review => (\n                  <ListItem key={review._id}>\n                    \n                      <strong>\n                      <div className=\"media-left\">\n              <figure className=\"image is-96x96\">\n                <img src={pic1} alt=\"a reviewer\"></img>\n              </figure>\n              <br></br>\n              <a href={review.linkedin}>{review.linkedin}</a>\n            </div>\n            <br></br> \n            <br></br> \n            <b>{review.name}</b> stated: <br></br> <b>{review.review}</b><br></br> in reference to the <br></br> <b>{review.service}</b> service.<br></br><br></br> On <br></br>{review.date} \n                      </strong>\n                    \n                    <DeleteBtn onClick={() => deleteReview(review._id)} />\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n              <h3>No Results to Display</h3>\n            )}\n        \n            \n            </div>\n          \n         \n         \n        </Col>\n      </Row>\n      \n    </Container>\n  );\n}\n\nexport default Issuereport;\n"]},"metadata":{},"sourceType":"module"}